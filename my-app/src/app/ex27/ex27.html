<div class="api-page-container">
    <div class="page-header">
        <h2 class="text-gradient">Featured Collections (Ex27)</h2>
        <p class="subtitle">Hand-picked products with exclusive discounts</p>
        <p class="status-msg text-danger" *ngIf="errMessage">{{ errMessage }}</p>
    </div>

    <div class="product-grid" *ngIf="data && data.length > 0; else loadingTemplate">
        <div class="product-card" *ngFor="let p of data">
            <div class="product-badge">-25%</div>

            <div class="product-image-wrapper">
                <img [src]="p.image" [alt]="p.title" class="product-image">
                <button class="btn-heart"><i class="bi bi-heart"></i></button>
            </div>

            <div class="product-info">
                <h3 class="product-title" [title]="p.title">{{ p.title }}</h3>

                <div class="product-meta">
                    <div class="rating-badge">
                        <i class="bi bi-star-fill"></i>
                        <span>{{ p.rating.rate }}</span>
                    </div>
                    <div class="product-sales">Count: {{ p.rating.count }}</div>
                </div>

                <div class="product-footer">
                    <div class="product-price">${{ p.price }}</div>
                    <button class="btn-buy-now">Buy Now</button>
                </div>
            </div>
        </div>
    </div>

    <ng-template #loadingTemplate>
        <div class="loading-state">
            <div class="spinner"></div>
            <p>Curating your collection...</p>
        </div>
    </ng-template>
</div>